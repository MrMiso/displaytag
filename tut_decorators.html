<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src\site\markdown/tut_decorators.md at 11-11-2022 03:05
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Display tag library &#x2013; Decorators</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.1.min.js"></script>
<link href="../css/site.css" rel="stylesheet" />
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="http://www.displaytag.org" id="bannerLeft"><h1><span class="color-highlight">displaytag</span></h1>
</a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li class="pull-right"><span class="divider">|</span>
<a href="http://demo.displaytag.org/displaytag-examples-2.0" class="externalLink" title="Live examples">Live examples</a></li>
        <li class="pull-right"><a href="http://www.displaytag.org/20/download.html" class="externalLink" title="Download">Download</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Reference</li>
    <li><a href="index.html" title="About"><span class="none"></span>About</a></li>
    <li><a href="install.html" title="Install"><span class="none"></span>Install</a></li>
    <li><a href="tlds.html" title="Tlds"><span class="none"></span>Tlds</a></li>
    <li><a href="displaytag/tagreference.html" title="Tag reference"><span class="none"></span>Tag reference</a></li>
    <li><a href="configuration.html" title="Configuration"><span class="none"></span>Configuration</a></li>
    <li><a href="export_filter.html" title="Export filter"><span class="none"></span>Export filter</a></li>
    <li><a href="migrating.html" title="Migrating from 1.x"><span class="none"></span>Migrating from 1.x</a></li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
    <li><a href="portlet.html" title="Jsr-168 Portlet support"><span class="none"></span>Jsr-168 Portlet support</a></li>
   <li class="nav-header">Tutorial</li>
    <li><a href="tut_basic.html" title="Basic usage"><span class="none"></span>Basic usage</a></li>
    <li><a href="tut_implicitobjects.html" title="Implicit objects"><span class="none"></span>Implicit objects</a></li>
    <li><a href="tut_sources.html" title="Data sources"><span class="none"></span>Data sources</a></li>
    <li class="active"><a><span class="none"></span>Decorators</a></li>
    <li><a href="tut_links.html" title="Links"><span class="none"></span>Links</a></li>
    <li><a href="tut_style.html" title="Style"><span class="none"></span>Style</a></li>
    <li><a href="export.html" title="Export"><span class="none"></span>Export</a></li>
    <li><a href="i18n.html" title="I18n"><span class="none"></span>I18n</a></li>
    <li><a href="tut_externalSortAndPage.html" title="External paging/sorting"><span class="none"></span>External paging/sorting</a></li>
   <li class="nav-header">Project Info</li>
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
    <li><a href="issue-tracking.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a></li>
    <li><a href="mail-lists.html" title="Mailing Lists"><span class="none"></span>Mailing Lists</a></li>
    <li><a href="license.html" title="Project License"><span class="none"></span>Project License</a></li>
    <li><a href="team-list.html" title="Project Team"><span class="none"></span>Project Team</a></li>
    <li><a href="source-repository.html" title="Source Repository"><span class="none"></span>Source Repository</a></li>
   <li class="nav-header">Developers</li>
    <li><a href="coding_conventions.html" title="Coding Conventions"><span class="none"></span>Coding Conventions</a></li>
    <li><a href="source-repository.html" title="Source repository"><span class="none"></span>Source repository</a></li>
   <li class="nav-header">Project Reports</li>
    <li><a href="displaytag/tagreference.html" title="Tag reference"><span class="none"></span>Tag reference</a></li>
    <li><a href="displaytag/tlddoc/index.html" title="Taglibdoc documentation"><span class="none"></span>Taglibdoc documentation</a></li>
    <li><a href="changes-report.html" title="Changes Report"><span class="none"></span>Changes Report</a></li>
    <li><a href="displaytag/dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
    <li><a href="displaytag/apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="displaytag/pmd.html" title="PMD"><span class="none"></span>PMD</a></li>
    <li><a href="displaytag/clover/index.html" title="Clover"><span class="none"></span>Clover</a></li>
    <li><a href="displaytag/surefire-report.html" title="Maven Surefire Report"><span class="none"></span>Maven Surefire Report</a></li>
    <li><a href="displaytag/xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
    <li><a href="displaytag/xref-text/index.html" title="Test Xref"><span class="none"></span>Test Xref</a></li>
    <li><a href="displaytag/jdepend-report.html" title="JDepend Report"><span class="none"></span>JDepend Report</a></li>
    <li><a href="displaytag/taglibvalidation.html" title="Tag library validation"><span class="none"></span>Tag library validation</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="Decorators"></a>Decorators</h2>
<p>A &#x201c;decorator&#x201d; is a design pattern where one object provides a layer of
functionality by wrapping or &#x201c;decorating&#x201d; another object.</p><section>
<h3><a name="Table_decorators"></a>Table decorators</h3>

<div class="source"><pre class="prettyprint"><code class="language-html">&lt;display:table name=&quot;test&quot; decorator=&quot;org.displaytag.sample.Wrapper&quot; &gt;
  &lt;display:column property=&quot;id&quot; title=&quot;ID&quot; /&gt;
  &lt;display:column property=&quot;email&quot; /&gt;
  &lt;display:column property=&quot;status&quot; /&gt;
  &lt;display:column property=&quot;date&quot; /&gt;
  &lt;display:column property=&quot;money&quot; /&gt;
&lt;/display:table&gt;
</code></pre></div>
<p>Let's assume you have list of business objects that you want to display,
and the objects contain properties that don't return native Strings, and
you want control over how they get displayed in the list (for example,
Dates, money, numbers, etc&#x2026;). I would be bad form to put this type of
formatting code inside your business objects, so instead create a
Decorator that formats the data according to your needs.</p>
<p>Notice the following 4 key things (and refer to the TableDecorator
javadoc for some of the other details).</p>
<ul>

<li>The Wrapper class must be a subclass of TableDecorator. There is
various bootstrapping and API methods that are called inside the
TableDecorator class and your class must subclass it for things to
work properly (you will get a JspException if your class does not
subclass it).</li>
<li>Be smart and create your formatters just once in the constructor
method - performance will be a lot better&#x2026;</li>
<li>Notice how the getDate() and getMoney() methods overload the return
value of your business object contained in the List. They use the
TableDecorator.getCurrentRowObject() method to get a handle to the
underlying business object, and then format it accordingly.</li>
<li>We do not have to overload each of the other business object
properties (like getID, getEmail, etc&#x2026;). The decorator class is
called first, but if it doesn't implement the method for the
property called, then the underlying business class is called.</li>
</ul>
<p>The way this works is that a single decorator object is created right
before the table tag starts iterating through your List, before it
starts processing a particular row, it gives the object for that row to
the decorator, then as the various properties getXXX() methods - the
decorator will be called first and if the decorator doesn't implement
the given property, the method will be called on the original object in
your List.</p></section><section>
<h3><a name="Column_Decorators"></a>Column Decorators</h3>
<p>You can also specify decorators that work on individual columns, this
would allow you to come up with data specific formatters, and just reuse
them rather then coming up with a custom decorator for each table that
you want to show a formatted date for.</p>

<div class="source"><pre class="prettyprint"><code class="language-html">&lt;display:table name=&quot;test&quot;&gt;
  &lt;display:column property=&quot;id&quot; title=&quot;ID&quot; /&gt;
  &lt;display:column property=&quot;email&quot; /&gt;
  &lt;display:column property=&quot;status&quot; /&gt;
  &lt;display:column property=&quot;date&quot; decorator=&quot;org.displaytag.sample.LongDateWrapper&quot; /&gt;
&lt;/display:table&gt;
</code></pre></div></section><section>
<h3><a name="Table_decorators.2C_column_decorators_or_code_in_the_column_body.3F"></a>Table decorators, column decorators or code in the column body?</h3>
<p>As a rule of thumb, a decorator is faster than using scriptlet or custom
tags in the column body when using paging. When the column body is
filled and full list is sorted, all the records need to be &#x201c;prepared&#x201d; by
the table tag iterating on the whole list. If the column body is used
the content will be evaluated for any row, also for the non displayed
ones; using property, on the other hand, will cause the decorator only
to be called for displayed rows.</p>
<p>A table decorator have the power to add extra properties to your
objects: for example you can add a getFullAddress() method to your table
decorator and then use property=&#x201c;fullAddress&#x201d; in a column. A table
decorator can also provide custom html code added at the beginning/end
of rowss and table.</p>
<p>A column decorator is rather limited in its funcionality: it simply
format an available value, and has actually no access to the page
context or other properties. However, it is the simplest and most
reusable block if you simply need to format dates, number or custom
strings.</p>
<p>Leaving decorators out and filling the column body is the simplest
solution if you don't have to worry too much about paging and
performance and it is optimal in a small, non paged, table. During
sorting, though, if the column body is used, the result will be always
sorted as a String.</p></section><section>
<h3><a name="Table_decorators_and_exports"></a>Table decorators and exports</h3>
<p>When a table decorator should be used both to render an HTML table and
to export to other media, configure the decorator using the table tag's
decorator attribute. For example:</p>

<div class="source"><pre class="prettyprint"><code class="language-html">&lt;display:table name=&quot;test&quot; decorator=&quot;org.displaytag.sample.ModelTableDecorator&quot; &gt;
  &lt;display:column property=&quot;id&quot; title=&quot;ID&quot; /&gt;
  &lt;display:column property=&quot;email&quot; /&gt;
  &lt;display:column property=&quot;status&quot; /&gt;
  &lt;display:column property=&quot;date&quot; /&gt;
  &lt;display:column property=&quot;money&quot; /&gt;
&lt;/display:table&gt;
</code></pre></div>
<p>Since this decorator will also be called when exporting to non-HTML
media, such as Excel, PDF, or RTF, it should not output HTML. Such a
decorator would normally be useful for adding extra properties to your
objects or for media-agnostic formatting.</p>
<p>You can also configure a different decorator for each medium in which
you want to render the table. In the following example, a different
table decorator is used to help render the table in HTML, PDF, RTF, and
Excel. The HTML decorator decorates the table using HTML, the PDF and
RTF decorators using the iText API, and the Excel decorator using the
HSSF API.</p>

<div class="source"><pre class="prettyprint"><code class="language-html">&lt;display:table name=&quot;test&quot; export=&quot;true&quot;&gt;
    &lt;display:setProperty name=&quot;decorator.media.html&quot;  value=&quot;org.displaytag.sample.decorators.HtmlTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.pdf&quot;   value=&quot;org.displaytag.sample.decorators.ItextTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.rtf&quot;   value=&quot;org.displaytag.sample.decorators.ItextTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.excel&quot; value=&quot;org.displaytag.sample.decorators.HssfTotalWrapper&quot; /&gt;
&lt;/display:table&gt;
</code></pre></div>
<p>If you use the same <code>decorator.media.*export name*</code> table decorators in
every page, you can configure them in your displaytag properties file.</p>
<p>Note that if you configure table decorators with both the table tag's
decorator attribute and the <code>decorator.media.*export name*</code> config
property, the table tag attribute value takes precedence and the
<code>decorator.media.*export name*</code> values are ignored. In the example below,
only <code>ModelTableDecorator</code> will be used.</p>

<div class="source"><pre class="prettyprint"><code class="language-html">&lt;display:table name=&quot;test&quot; export=&quot;true&quot; decorator=&quot;org.displaytag.sample.ModelTableDecorator&quot; &gt;
    &lt;display:setProperty name=&quot;decorator.media.html&quot;  value=&quot;org.displaytag.sample.decorators.HtmlTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.pdf&quot;   value=&quot;org.displaytag.sample.decorators.ItextTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.rtf&quot;   value=&quot;org.displaytag.sample.decorators.ItextTotalWrapper&quot; /&gt;
    &lt;display:setProperty name=&quot;decorator.media.excel&quot; value=&quot;org.displaytag.sample.decorators.HssfTotalWrapper&quot; /&gt;
&lt;/display:table&gt;
</code></pre></div></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2002&#x2013;2022
<a href="http://sourceforge.net/projects/displaytag">the Displaytag team</a>
        <li id="publishDate" class="pull-right">Last Published: 11-11-2022 03:05</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 2.5.0</li>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
